<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport">
	<title>Document</title>
</head>
<body>

	<button onClick="subscribe()">Subscribe</button>
	
	<script>
		addEventListener('load', async () => {
			let sw = await navigator.serviceWorker.register('./sw.js')
			console.log(sw)
		})
	
		async function subscribe() {
			let sw = await navigator.serviceWorker.ready;
			let push = await sw.pushManager.subscribe({
				userVisibleOnly: true,
				applicationServerKey: 'BBHSUmckwsWjPz44NS90YQCp1Kx2gD9V8KAlxt3Jusf1OcFhpVqr_wRK061f8q2DAHN_mNDNSYXL-s2KKAdIk4E'
			})
			console.log(JSON.stringify(push))
		}
	
	</script>

</body>
</html>